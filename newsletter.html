---
layout: default
header-img: "/assets/img/hero.jpg"
title: "Newsletter"
description: "Sign up to the newsletter"
---
<!-- Once over Zapier task limit -->
<script>
    window.location = 'https://goo.gl/forms/UDXyPjGgamGxxlBj2';
</script>


{% include header.html %}

<header class="g-banner np-banner {{ site.postPatterns | prepend: 'post-pattern-' }} newsletter-banner colorful-banner" data-theme="{{ site.theme-color }}">
    <div class="post-wrapper">
        <h1>Stay up to date.</h1>
        <span class="subheading">Get new posts straight to your inbox.</span>
        <form action="/newsletter-thanks" onsubmit="event.preventDefault(); validateForm();" id="form">
            <input type="email" name="email" placeholder="Email" id="email" oninput="removeWarning()">
            <span style="color: rebeccapurple;display: none;margin-top: 15px;" id="warning">Please enter a valid email address.</span>
            <input type="submit" class="btn" value="Subscribe now" id="submitButton" name="submitButton">
        </form>
    </div>
</header>

<script>
    // from https://stackoverflow.com/questions/46155/how-to-validate-email-address-in-javascript
    function validateEmail(email) {
      var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
      return re.test(email);
    }
    
    function validateForm(){
        var email = document.getElementById('email').value;
        if(validateEmail(email)) {
            console.log('valid');
            document.getElementById('form').submit();
            return(true);
        } else {
            document.getElementById('warning').style.display = 'block';
            console.log('invalid');
            return(false);
        }
    }
    // based on https://stackoverflow.com/questions/5272433/html5-form-required-attribute-set-custom-validation-message
    document.getElementById('email').oninvalid = function(e) {
            var email = document.getElementById('email').value;
            if (!validateEmail(email)) {
                document.getElementById('warning').style.display = 'block';
                e.target.setCustomValidity("");
            }
    }
    
    function removeWarning() {
        console.log('rmoed');
        document.getElementById('warning').style.display = 'none';
    }
</script>